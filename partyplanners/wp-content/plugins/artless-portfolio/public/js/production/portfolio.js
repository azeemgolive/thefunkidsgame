/*!
 * @package    artless Portfolio
 * @author     Christian Glingener <glingener.christian@gmail.com>
 * @version    1.0.0
 * @copyright  2014 artlessthemes.com
 * @link       http://artlessthemes.com/
 */
(function(j){var d=j("#al-pf-wrapper");if(d.length==0){return}var o=j("#al-pf-preview");var v=j("#al-pf-preview-loader");var h=j("#al-pf-loader");var q=j("#al-pf-load-content");j("#al-pf-wrapper-close").click(function(B){B.preventDefault();j("a.al-pf-item-active").removeClass("al-pf-item-active");d.css("height",d.height()+"px");d.css("min-height",0);d.slideUp(1000);j(".al-pf-article").fadeOut(800,function(){j(this).remove()})});function i(){h.css("display","none");d.find("div.close").fadeIn(800);j(".al-pf-article").fadeIn(1000);d.css("height","auto");var C=j(".al-pf-slider");if(C.length>0){var B={};if(typeof alSliderSettingsDefault!=="undefined"&&typeof alSliderSettingsUser!=="undefined"){B=j.extend({},alSliderSettingsDefault,alSliderSettingsUser)}C.owlCarousel(B)}k();z()}function z(){j(".tab-content-navi").each(function(){var B=j(this).children("li:first-child").children("a");var C=B.attr("open-content");j("#"+C).css("display","block");B.addClass("active")});j(".tab-content-navi li a").click(function(C){C.preventDefault();var D=j(this).attr("open-content");if(j("#"+D).is(":hidden")){var B=j(this).parent("li").parent("ul");B.children("li").each(function(){j(this).children("a").removeClass("active");var E=j(this).children("a").attr("open-content");j("#"+E).css("display","none")});j("#"+D).fadeIn(400);j(this).addClass("active")}})}function k(){j("[data-after-preload-src]").delay(500).each(function(){var B=j(this).data("after-preload-src");j(this).attr("src",B).removeAttr("data-after-preload-src")});j("[data-sc-after-preload-src]").each(function(){var B=j(this).data("sc-after-preload-src");j(this).attr("src",B).removeAttr("data-sc-after-preload-src")})}o.on("click","a",function(E){var C=j("a.al-pf-item-active");if(C.length>0){C.removeClass("al-pf-item-active")}j(this).addClass("al-pf-item-active");E.preventDefault();var D=j(this).data("load");var B=j(window).height();if(d.is(":hidden")){d.css("min-height",0);d.find(".close").hide();h.css("display","block");q.html("");d.css("height",B+"px");d.slideDown(1000,function(){d.css("min-height",B+"px")});j("html,body").clearQueue().animate({scrollTop:d.offset().top},1400);setTimeout(function(){q.load(D,{ajax:true},function(){j("div.device-slider:not(.al-done)").alDeviceSlider();j("div.quote-slider:not(.al-done)").alQuoteSlider();j("div.al-client-carousel:not(.al-done)").alClientSlider();i()})},1600)}else{d.find(".close").fadeOut(800);h.delay(850).fadeIn();d.css("height",d.height()+"px");j(".al-pf-article").fadeOut(800);j("html,body").clearQueue().animate({scrollTop:d.offset().top},1400);setTimeout(function(){q.load(D,{ajax:true},function(){j("div.device-slider:not(.al-done)").alDeviceSlider();j("div.quote-slider:not(.al-done)").alQuoteSlider();j("div.al-client-carousel:not(.al-done)").alClientSlider();i()})},1600)}});i();var r=1000;var l=350;if(typeof alPortfolioMinHeight!=="undefined"){l=alPortfolioMinHeight}function x(){var C=o.find("li");var B=o.find("li:not(:has(iframe))");B.each(function(){j(this).css("height","auto");if(j(this).height()<r&&j(this).height()>50){r=j(this).height()}});if(r<l){r=l}C.each(function(){var D=j(this).find("iframe");if(D.length>0){D.height(r);j(this).height(r);j(this).find("a:first").height(r)}else{j(this).height(r)}j(this).hoverdir()})}function w(){r=1000;if(o.css("opacity")==1){v.css("min-height",o.height()+"px");o.css("opacity",0);v.css("background-size","auto");o.find("li").each(function(){j(this).height("auto")})}if(p){clearTimeout(p)}p=setTimeout(A,500)}function A(){v.css("background-size","0");x();v.css("min-height","0");o.fadeTo(500,1)}var m=j(window).width();if(o.length>0){j(window).resize(function(){if(m!=j(window).width()){m=j(window).width();w()}});var p=0}var t=j("#al-pf-tabs");var n=j("#al-pf-button-load-more");var s=j("#al-pf-load-more-loader");var g=n.data("post-paged");var y="";var c=u();var f=0;var b=0;function a(){if(t.length>0){var B=t.find("li.active").data("filter");if(o.length>0){if(b==0){b=1;o.mixitup({targetSelector:".al-pf-mix",filterSelector:".al-pf-filter",showOnLoad:B,onMixLoad:function(){x()}})}else{o.mixitup("remix",B);x()}}}else{o.find("li").each(function(){j(this).show();x();j(this).css("opacity",1)})}}j(window).load(function(){a()});function u(){var B=t.find("li.active").data("filter");if(B=="all"){B="al-pf-mix"}return o.find("li."+B).length}function e(){if(y){j.ajax({type:"POST",url:alAdmin.ajaxurl,data:{action:"al_portfolio_load_more_posts","post-paged":y},success:function(B){if(j.isEmptyObject(g)==false){if(f==0){f=u()}o.append(B);if(u()<(f+c)){y=g.shift();e()}else{f=0;s.fadeOut(800,function(){n.show()});k();a()}}else{s.hide();s.parent().slideUp(1200,function(){});o.append(B);k();a()}},error:function(B,D,C){}})}}n.on("click",function(B){B.preventDefault();j(this).hide();s.fadeIn(800,function(){y=g.shift();e()})});if(t.length>0){j("body").on("click","li.al-pf-filter > a",function(){if(u()==0){n.hide();s.fadeIn(800,function(){y=g.shift();e()})}})}})(jQuery);